<div ng-controller="UserController">

    <div class="row header-detail">
        <div class="col-md-6 blue-dark">
            <h4 class="bold" ng-bind="Language.Resource.AccountInfo"></h4>
        </div>
    </div>


    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6 form-group">
                <div class="row margin-top-10">
                    <div class="col-md-4 ">
                        <label class="control-label" ng-bind="Language.Resource.EmployeeName"></label>
                    </div>
                    <div class="col-md-8">
                        <span ng-bind="UserForm.UserName"></span>
                    </div>
                </div>
                <div class="row margin-top-10">
                    <div class="col-md-4">
                        <label class="control-label" ng-bind="Language.Resource.EmployeeCode"></label>
                    </div>
                    <div class="col-md-8">
                        <span ng-bind="UserForm.LoginId"></span>
                    </div>
                </div>
                <div class="row margin-top-10">
                    <div class="col-md-4">
                        <label class="control-label" ng-bind="Language.Resource.Email"></label>
                    </div>
                    <div class="col-md-8">
                        <span ng-bind="UserForm.Email"></span>
                    </div>
                </div>
                <div class="row margin-top-10">
                    <div class="col-md-4">
                        <label class="control-label" ng-bind="Language.Resource.PhoneNumber"></label>
                    </div>
                    <div class="col-md-8">
                        <span ng-bind="UserForm.Phone"></span>
                    </div>
                </div>
                <div class="row margin-top-10">
                    <div class="col-md-4">
                        <label class="control-label" ng-bind="Language.Resource.Password"></label>
                    </div>
                    <div class="col-md-8">
                        <input class="form-control margin-top-10" ng-model="UserForm.OldPassword" 
                               type="password" placeholder="{{Language.Resource.OldPassword}}" ng-if="UserForm.IsEditingPassword"
                               check-empty = "" check-empty-message = "{{Language.Resource.MessageOldPassword}}"/>
                        <input class="form-control margin-top-10" ng-model="UserForm.NewPassword" 
                               type="password" placeholder="{{Language.Resource.NewPassword}}" ng-if="UserForm.IsEditingPassword"
                               check-empty = "" check-empty-message = "{{Language.Resource.MessageNewPassword}}"/>
                        <input class="form-control margin-top-10" ng-model="UserForm.NewPassword2" 
                               type="password" placeholder="{{Language.Resource.RepeatPassword}}" ng-if="UserForm.IsEditingPassword"
                               check-empty = "" check-empty-message = "{{Language.Resource.MessageRepeatPassword}}"/>
                        <button class="btn btn-primary margin-top-10" ng-if="!UserForm.IsEditingPassword"
                                ng-click="UserForm.IsEditingPassword = true;">
                            <i class="fa fa-retweet white"></i>
                            <span ng-bind="Language.Resource.ChangePassword"></span>
                        </button>
                        <button class="btn btn-default margin-top-10" ng-if="UserForm.IsEditingPassword"
                                ng-click="UndoChangePassword()">
                            <i class="fa fa-undo"></i>
                            <span ng-bind="Language.Resource.Cancel"></span>
                        </button>
                        <button class="btn btn-primary margin-top-10" ng-if="UserForm.IsEditingPassword"
                                ng-click="ChangePassword()">
                            <i class="fa fa-save white"></i>
                            <span ng-bind="Language.Resource.Save"></span>
                        </button>
                    </div>
                </div>
                <div class="row margin-top-10">
                    <div class="col-md-4">
                        <label class="control-label" ng-bind="Language.Resource.UserRole"></label>
                    </div>
                    <div class="col-md-12">
                        <table grid-data="UserRoles"
                               grid-data-type="table" @*table/storedprocedure*@
                               grid-data-action="getall" @*get/getall*@
                               grid-data-object="T_Trans_User_Store" @*table name or stored procedure name*@
                               grid-filter-condition="[UserId] = {{CurrentUser}} and [IsActive] = 1" @*must have [fieldname] for each colum field*@
                               grid-sort-condition="[StoreId.StoreCode] ASC" @*must have [fieldname] for each colum field*@
                               grid-sum-collection="" @*must have [fieldname] for each colum field*@
                               class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th grid-defined-colum="StoreId.StoreCode"><span ng-bind="Language.Resource.Store"></span></th>
                                    <th grid-defined-colum="RoleId.RoleName"><span ng-bind="Language.Resource.UserRole"></span></th>
                                </tr>
                            </thead>
                            <tbody>
                                @*Dataset must have grid id*@
                                <tr ng-repeat="item in DataSet.UserRoles.Data">
                                    <td ng-bind="item.StoreCode"></td>
                                    <td ng-bind="item.RoleName"></td>
                                </tr>
                                <tr ng-if="!DataSet.UserRoles.HasRecord()">
                                    @*Edit colspan*@
                                    <td colspan="2" align="center" ng-bind="Language.Resource.NoDataFound"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>