<div class="row">
    <div class="form-group col-md-6">
        <h4 class="detail-title">Thông tin khách hàng <span ng-if="CustomerForm.IsWholeSale == '1'"> sỉ </span> </h4>
    </div>
    <div class="col-md-3 pull-right" style="padding: 20px 0Px">

        <button class="btn btn-primary" ng-if="IsEditingCustomerDetail" ng-click="SaveCustomerDetail()">
            <i class="fa fa-save white"></i>
            <span>Lưu</span>
        </button>

        <button class="btn btn-primary" ng-if="!IsEditingCustomerDetail" ng-click="EditCustomerDetail()">
            <i class="fa fa-edit white"></i>
            <span>Sửa</span>
        </button>

        <button class="btn btn-default" ng-click="CloseCustomerDetail()">
            <i class="fa fa-arrow-left"></i>
            <span>Trở về</span>
        </button>
    </div>
</div>

<div class="row">
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Tên khách hàng </label>
        <div class="col-sm-7">
            <span ng-if="!IsEditingCustomerDetail" ng-bind="CustomerForm.CustomerName"></span>
            <input class="form-control" ng-model="CustomerForm.CustomerName"
                   ng-if="IsEditingCustomerDetail"
                   check-empty="" check-empty-message="Vui lòng nhập tên khách hàng."
                   check-length="300" check-length-message="Chiều dài tối ta là {0}." />

        </div>
    </div>
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Mã khách hàng </label>
        <div class="col-sm-7">
            <span ng-bind="CustomerForm.CustomerCode"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Số điện thoại </label>
        <div class="col-sm-7">
            <span ng-if="!IsEditingCustomerDetail" ng-bind="CustomerForm.Phone || '(Chưa có)'"></span>
            <input class="form-control" ng-model="CustomerForm.Phone"
                   ng-if="IsEditingCustomerDetail"
                   check-length="50" check-length-message="Chiều dài tối ta là {0}." />
        </div>
    </div>
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Email </label>
        <div class="col-sm-7">
            <span ng-if="!IsEditingCustomerDetail" ng-bind="CustomerForm.Email || '(Chưa có)'"></span>
            <input class="form-control" ng-model="CustomerForm.Email"
                   ng-if="IsEditingCustomerDetail"
                   check-length="50" check-length-message="Chiều dài tối ta là {0}."
                   check-custom="CheckEmailValid" check-custom-message="Vui lòng nhập email hợp lệ." />
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Giới tính </label>
        <div class="col-sm-7">
            <input type="radio" ng-model="CustomerForm.Gender" value="M" ng-disabled="!IsEditingCustomerDetail" />
            Nam&nbsp;&nbsp;
            <input type="radio" ng-model="CustomerForm.Gender" value="F" ng-disabled="!IsEditingCustomerDetail" />
            Nữ
        </div>
    </div>
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Ngày sinh </label>
        <div class="col-sm-7">
            <span ng-if="!IsEditingCustomerDetail" ng-bind="CustomerForm.Birthday || '(Chưa có)'"></span>
            <input class="form-control" ng-model="CustomerForm.Birthday"
                   ng-if="IsEditingCustomerDetail"
                   placeholder="dd-MM-yyyy"
                   check-custom="CheckDateValid" check-custom-message="Vui lòng nhập ngày hợp lệ dd-MM-yyyy." />
        </div>
    </div>
</div>
<div class="row">
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Địa chỉ </label>
        <div class="col-sm-7">
            <span ng-if="!IsEditingCustomerDetail" ng-bind="CustomerForm.Address || '(Chưa có)'"></span>
            <textarea class="form-control" ng-model="CustomerForm.Address"
                      ng-if="IsEditingCustomerDetail"
                      check-length="500" check-length-message="Chiều dài tối ta là {0}."></textarea>
        </div>
    </div>
    <div class="form-group col-md-6">
        <label class="col-sm-4 control-label ">Ghi chú </label>
        <div class="col-sm-7">
            <span ng-if="!IsEditingCustomerDetail" ng-bind="CustomerForm.Notes || '(Chưa có)'"></span>
            <textarea class="form-control" ng-model="CustomerForm.Notes"
                      ng-if="IsEditingCustomerDetail"
                      check-length="500" check-length-message="Chiều dài tối ta là {0}."></textarea>
        </div>
    </div>
</div>

<div class="row form-group col-md-12">
    <div class="summary-head">
        <div class="infobox infobox-blue">
            <div class="infobox-icon">
                <i class="fa-dollar fa"></i>
            </div>
            <div class="infobox-data">
                <span class="infobox-data-number infobox-blue" ng-bind="DataSet.ListOrders.Sums.SumMoney | currency:'':0"></span>
                <div class="infobox-content">Doanh thu</div>
            </div>
        </div>
        <div class="infobox infobox-green">
            <div class="infobox-icon">
                <i class="fa-shopping-cart fa"></i>
            </div>
            <div class="infobox-data">
                <span class="infobox-data-number infobox-green" ng-bind="DataSet.ListOrders.TotalItems"></span>
                <div class="infobox-content">SL giao dịch</div>
            </div>
        </div>
        <div class="infobox infobox-orange">
            <div class="infobox-icon">
                <i class="fa-money fa"></i>
            </div>
            <div class="infobox-data">
                <span class="infobox-data-number infobox-orange" ng-bind="DataSet.ListOrders.Sums.DebtMoney | currency:'':0"></span>
                <div class="infobox-content">Nợ</div>
            </div>
        </div>
    </div>
</div>

<table grid-data="ListOrders"
       grid-data-type="table" @*table/storedprocedure*@
       grid-data-action="get" @*get/getall*@
       grid-data-object="T_Trans_Orders" @*table name or stored procedure name*@
       grid-filter-condition="[Customer] = {{CustomerForm.CustomerId}}" @*must have [fieldname] for each colum field*@
       grid-sort-condition="[OrderId] ASC" @*must have [fieldname] for each colum field*@
       grid-sum-collection="[SumMoney];[DebtMoney]" @*must have [fieldname] for each colum field*@
       class="table table-striped table-bordered">
    <thead>
        <tr>
            <th><span>STT</span></th>
            <th grid-defined-colum="OrderCode"><span>Mã hóa đơn</span></th>
            <th grid-defined-colum="OrderStatus.StatusName"><span>Loại đơn hàng</span></th>
            <th grid-defined-colum="CreatedDate"><span>Ngày mua</span></th>
            <th grid-defined-colum="NumOfProduct"><span>SL hàng hóa</span></th>
            <th grid-defined-colum="SumMoney"><span>Tổng tiền</span></th>
            <th grid-defined-colum="DebtMoney"><span>Nợ</span></th>
            <th grid-defined-colum="OrderStatus.DisplayClass" style="display: none"></th>
        </tr>
    </thead>
    <tbody>
        @*Dataset must have grid id*@
        <tr ng-repeat="item in DataSet.ListOrders.Data">
            <td ng-bind="item.RowNum"></td>
            <td ng-bind="item.OrderCode"></td>
            <td> <span class="{{item.DisplayClass}}" ng-bind="item.StatusName"></span> </td>
            <td ng-bind="item.CreatedDate"></td>
            <td ng-bind="item.NumOfProduct"></td>
            <td ng-bind="item.SumMoney | currency:'':0"></td>
            <td ng-bind="item.DebtMoney | currency:'':0"></td>
        </tr>
        <tr ng-if="!DataSet.ListOrders.HasRecord()">
            @*Edit colspan*@
            <td colspan="7" align="center"> Không có dữ liệu! </td>
        </tr>
    </tbody>
</table>
<div class="row">
    <div class="col-md-9 pull-left">
        <span grid-paging-for="ListOrders"></span>
    </div>

    <div class="col-md-3 pull-right">
        <span grid-page-size-for="ListOrders"></span>
    </div>
</div>

